{"version":3,"sources":["webpack://@leonardoquevedo/web/./src/pages/home/index.js"],"names":["openingTimeoutRef","HomePage","location","useState","isArticleVisible","setIsArticleVisible","hasTimeout","setHasTimeout","isVisible","setIsVisible","article","setArticle","loading","setLoading","wrapperRef","setWrapperRef","toggleArticle","useCallback","handleOpenArticle","selectedArticle","handleCloseArticle","handleOutsideClick","event","contains","target","useEffect","setTimeout","document","addEventListener","clearTimeout","removeEventListener","className","id","onOpenArticle","timeout","openArticle","onCloseArticle","defaultProps"],"mappings":"gKAMIA,EAAoB,KAElBC,EAAW,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAAe,GACeC,eAAS,GAAlDC,EAD0B,KACRC,EADQ,QAEGF,eAAS,GAAtCG,EAF0B,KAEdC,EAFc,QAGCJ,eAAS,GAApCK,EAH0B,KAGfC,EAHe,QAIHN,cAAS,IAAhCO,EAJ0B,KAIjBC,EAJiB,QAKHR,cAAS,cAAhCS,EAL0B,KAKjBC,EALiB,QAMGV,cAAS,MAAtCW,EAN0B,KAMdC,EANc,KAQ3BC,GAAgBC,kBAAY,WAChCZ,GAAqBD,GACrBG,GAAeD,GACfG,GAAcD,KACb,CAACA,EAAWF,EAAYF,IAErBc,GAAoBD,kBACxB,SAACE,GACCH,IACAL,EAAWQ,KAEb,CAACH,IAGGI,GAAqBH,kBAAY,WACrCD,IACAL,EAAW,MACV,CAACK,IAEEK,GAAqBJ,kBACzB,SAACK,GACKR,IAAeA,EAAWS,SAASD,EAAME,SAAWpB,GAAkBgB,MAE5E,CAAChB,EAAkBU,EAAYM,IAgBjC,OAbAK,gBAAU,WAOR,OANAzB,EAAoB0B,YAAW,WAC7Bb,EAAW,MACV,KAEHc,SAASC,iBAAiB,YAAaP,GAEhC,WACDrB,GAAmB6B,aAAa7B,GACpC2B,SAASG,oBAAoB,YAAaT,MAE3C,CAACA,IAGF,gBAAC,KAAD,CAAQnB,SAAUA,GAChB,2BAAS6B,UAAS,QAAUnB,EAAV,KAAqBR,EAAmB,qBAAuB,KAC/E,2BAAS4B,GAAG,WACV,gBAAC,KAAD,CAAQC,cAAef,EAAmBgB,QAAS5B,IACnD,gBAAC,KAAD,CACE4B,QAAS5B,EACTE,UAAWA,EACX2B,YAAazB,EACbN,iBAAkBA,EAClBgC,eAAgBhB,EAChBL,cAAeA,IAEjB,gBAAC,KAAD,CAAQmB,QAAS5B,KAEnB,2BAAS0B,GAAG,UAUpB/B,EAASoC,aAAe,CACtBnC,SAAU,IAGZ","file":"component---src-pages-home-index-js-e929ca0a72176f0ef82e.js","sourcesContent":["import React, { useCallback, useState, useEffect } from 'react'\r\n\r\nimport PropTypes from 'prop-types'\r\n\r\nimport { Header, Main, Footer, Layout } from 'components/index'\r\n\r\nlet openingTimeoutRef = null\r\n\r\nconst HomePage = ({ location }) => {\r\n  const [isArticleVisible, setIsArticleVisible] = useState(false)\r\n  const [hasTimeout, setHasTimeout] = useState(false)\r\n  const [isVisible, setIsVisible] = useState(false)\r\n  const [article, setArticle] = useState('')\r\n  const [loading, setLoading] = useState('is-loading')\r\n  const [wrapperRef, setWrapperRef] = useState(null)\r\n\r\n  const toggleArticle = useCallback(() => {\r\n    setIsArticleVisible(!isArticleVisible)\r\n    setHasTimeout(!hasTimeout)\r\n    setIsVisible(!isVisible)\r\n  }, [isVisible, hasTimeout, isArticleVisible])\r\n\r\n  const handleOpenArticle = useCallback(\r\n    (selectedArticle) => {\r\n      toggleArticle()\r\n      setArticle(selectedArticle)\r\n    },\r\n    [toggleArticle],\r\n  )\r\n\r\n  const handleCloseArticle = useCallback(() => {\r\n    toggleArticle()\r\n    setArticle('')\r\n  }, [toggleArticle])\r\n\r\n  const handleOutsideClick = useCallback(\r\n    (event) => {\r\n      if (wrapperRef && !wrapperRef.contains(event.target) && isArticleVisible) handleCloseArticle()\r\n    },\r\n    [isArticleVisible, wrapperRef, handleCloseArticle],\r\n  )\r\n\r\n  useEffect(() => {\r\n    openingTimeoutRef = setTimeout(() => {\r\n      setLoading('')\r\n    }, 100)\r\n\r\n    document.addEventListener('mousedown', handleOutsideClick)\r\n\r\n    return () => {\r\n      if (openingTimeoutRef) clearTimeout(openingTimeoutRef)\r\n      document.removeEventListener('mousedown', handleOutsideClick)\r\n    }\r\n  }, [handleOutsideClick])\r\n\r\n  return (\r\n    <Layout location={location}>\r\n      <article className={`body ${loading} ${isArticleVisible ? 'is-article-visible' : ''}`}>\r\n        <section id=\"wrapper\">\r\n          <Header onOpenArticle={handleOpenArticle} timeout={hasTimeout} />\r\n          <Main\r\n            timeout={hasTimeout}\r\n            isVisible={isVisible}\r\n            openArticle={article}\r\n            isArticleVisible={isArticleVisible}\r\n            onCloseArticle={handleCloseArticle}\r\n            setWrapperRef={setWrapperRef}\r\n          />\r\n          <Footer timeout={hasTimeout} />\r\n        </section>\r\n        <section id=\"bg\" />\r\n      </article>\r\n    </Layout>\r\n  )\r\n}\r\n\r\nHomePage.propTypes = {\r\n  location: PropTypes.string,\r\n}\r\n\r\nHomePage.defaultProps = {\r\n  location: '',\r\n}\r\n\r\nexport default HomePage\r\n"],"sourceRoot":""}