{"version":3,"sources":["webpack://@leonardoquevedo/website/./src/pages/home/index.js","webpack://@leonardoquevedo/website/./src/pages/index.js"],"names":["openingTimeoutRef","HomePage","location","useState","isArticleVisible","setIsArticleVisible","hasTimeout","setHasTimeout","isVisible","setIsVisible","article","setArticle","loading","setLoading","wrapperRef","setWrapperRef","toggleArticle","useCallback","handleOpenArticle","selectedArticle","handleCloseArticle","handleOutsideClick","event","contains","target","useEffect","setTimeout","document","addEventListener","clearTimeout","removeEventListener","className","id","onOpenArticle","timeout","openArticle","onCloseArticle","defaultProps"],"mappings":"4KAMIA,EAAoB,KAElBC,EAAW,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAAe,GACeC,eAAS,GAAlDC,EAD0B,KACRC,EADQ,QAEGF,eAAS,GAAtCG,EAF0B,KAEdC,EAFc,QAGCJ,eAAS,GAApCK,EAH0B,KAGfC,EAHe,QAIHN,cAAS,IAAhCO,EAJ0B,KAIjBC,EAJiB,QAKHR,cAAS,cAAhCS,EAL0B,KAKjBC,EALiB,QAMGV,cAAS,MAAtCW,EAN0B,KAMdC,EANc,KAQ3BC,GAAgBC,kBAAY,WAChCZ,GAAqBD,GACrBG,GAAeD,GACfG,GAAcD,KACb,CAACA,EAAWF,EAAYF,IAErBc,GAAoBD,kBACxB,SAACE,GACCH,IACAL,EAAWQ,KAEb,CAACH,IAGGI,GAAqBH,kBAAY,WACrCD,IACAL,EAAW,MACV,CAACK,IAEEK,GAAqBJ,kBACzB,SAACK,GACKR,IAAeA,EAAWS,SAASD,EAAME,SAAWpB,GAAkBgB,MAE5E,CAAChB,EAAkBU,EAAYM,IAgBjC,OAbAK,gBAAU,WAOR,OANAzB,EAAoB0B,YAAW,WAC7Bb,EAAW,MACV,KAEHc,SAASC,iBAAiB,YAAaP,GAEhC,WACDrB,GAAmB6B,aAAa7B,GACpC2B,SAASG,oBAAoB,YAAaT,MAE3C,CAACA,IAGF,gBAAC,KAAD,CAAQnB,SAAUA,GAChB,2BAAS6B,UAAS,QAAUnB,EAAV,KAAqBR,EAAmB,qBAAuB,KAC/E,2BAAS4B,GAAG,WACV,gBAAC,KAAD,CAAQC,cAAef,EAAmBgB,QAAS5B,IACnD,gBAAC,KAAD,CACE4B,QAAS5B,EACTE,UAAWA,EACX2B,YAAazB,EACbN,iBAAkBA,EAClBgC,eAAgBhB,EAChBL,cAAeA,IAEjB,gBAAC,KAAD,CAAQmB,QAAS5B,KAEnB,2BAAS0B,GAAG,UAUpB/B,EAASoC,aAAe,CACtBnC,SAAU,IAGZ,a,uDCjFA,UAAeD,EAAf","file":"component---src-pages-index-js-b4378b8bc5b74b0c12ac.js","sourcesContent":["import React, { useCallback, useState, useEffect } from 'react'\n\nimport PropTypes from 'prop-types'\n\nimport { Header, Main, Footer, Layout } from 'components/index'\n\nlet openingTimeoutRef = null\n\nconst HomePage = ({ location }) => {\n  const [isArticleVisible, setIsArticleVisible] = useState(false)\n  const [hasTimeout, setHasTimeout] = useState(false)\n  const [isVisible, setIsVisible] = useState(false)\n  const [article, setArticle] = useState('')\n  const [loading, setLoading] = useState('is-loading')\n  const [wrapperRef, setWrapperRef] = useState(null)\n\n  const toggleArticle = useCallback(() => {\n    setIsArticleVisible(!isArticleVisible)\n    setHasTimeout(!hasTimeout)\n    setIsVisible(!isVisible)\n  }, [isVisible, hasTimeout, isArticleVisible])\n\n  const handleOpenArticle = useCallback(\n    (selectedArticle) => {\n      toggleArticle()\n      setArticle(selectedArticle)\n    },\n    [toggleArticle],\n  )\n\n  const handleCloseArticle = useCallback(() => {\n    toggleArticle()\n    setArticle('')\n  }, [toggleArticle])\n\n  const handleOutsideClick = useCallback(\n    (event) => {\n      if (wrapperRef && !wrapperRef.contains(event.target) && isArticleVisible) handleCloseArticle()\n    },\n    [isArticleVisible, wrapperRef, handleCloseArticle],\n  )\n\n  useEffect(() => {\n    openingTimeoutRef = setTimeout(() => {\n      setLoading('')\n    }, 100)\n\n    document.addEventListener('mousedown', handleOutsideClick)\n\n    return () => {\n      if (openingTimeoutRef) clearTimeout(openingTimeoutRef)\n      document.removeEventListener('mousedown', handleOutsideClick)\n    }\n  }, [handleOutsideClick])\n\n  return (\n    <Layout location={location}>\n      <article className={`body ${loading} ${isArticleVisible ? 'is-article-visible' : ''}`}>\n        <section id=\"wrapper\">\n          <Header onOpenArticle={handleOpenArticle} timeout={hasTimeout} />\n          <Main\n            timeout={hasTimeout}\n            isVisible={isVisible}\n            openArticle={article}\n            isArticleVisible={isArticleVisible}\n            onCloseArticle={handleCloseArticle}\n            setWrapperRef={setWrapperRef}\n          />\n          <Footer timeout={hasTimeout} />\n        </section>\n        <section id=\"bg\" />\n      </article>\n    </Layout>\n  )\n}\n\nHomePage.propTypes = {\n  location: PropTypes.string,\n}\n\nHomePage.defaultProps = {\n  location: '',\n}\n\nexport default HomePage\n","import HomePage from './home'\n\n// Just a better\nexport default HomePage\n"],"sourceRoot":""}