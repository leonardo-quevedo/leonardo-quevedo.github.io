{"version":3,"sources":["webpack:///./src/pages/index.js"],"names":["IndexPage","props","state","isArticleVisible","timeout","isVisible","article","loading","componentDidMount","this","timeoutReference","setTimeout","setState","document","addEventListener","event","handleOutsideClick","componentWillUnmount","clearTimeout","removeEventListener","setWrapperRef","ref","wrapperRef","onOpenArticle","onCloseArticle","contains","target","render","location","className","id","selectedArticle","React","Component"],"mappings":"2IAIMA,E,oBACJ,WAAYC,GAAQ,IAAD,SACjB,cAAMA,IAAN,MACKC,MAAQ,CACXC,kBAAkB,EAClBC,SAAS,EACTC,WAAW,EACXC,QAAS,GACTC,QAAS,cAPM,E,kHAWnBC,kBAAA,WAAqB,IAAD,OAClBC,KAAKC,iBAAmBC,YAAW,WACjC,EAAKC,SAAS,CAAEL,QAAS,OACxB,KACHM,SAASC,iBAAiB,aAAa,SAAAC,GACrC,EAAKC,mBAAmBD,O,EAI5BE,qBAAA,WACMR,KAAKC,kBACPQ,aAAaT,KAAKC,kBAEpBG,SAASM,oBAAoB,YAAaV,KAAKO,qB,EAGjDI,cAAA,SAAcC,GACZZ,KAAKa,WAAaD,G,EAGpBE,cAAA,SAAcjB,GAAU,IAAD,OACrBG,KAAKG,SAAS,CACZT,kBAAmBM,KAAKP,MAAMC,iBAC9BG,YAGFK,YAAW,WACT,EAAKC,SAAS,CACZR,SAAU,EAAKF,MAAME,YAEtB,KAEHO,YAAW,WACT,EAAKC,SAAS,CACZP,WAAY,EAAKH,MAAMG,cAExB,M,EAGLmB,eAAA,WAAkB,IAAD,OACff,KAAKG,SAAS,CACZP,WAAYI,KAAKP,MAAMG,YAGzBM,YAAW,WACT,EAAKC,SAAS,CACZR,SAAU,EAAKF,MAAME,YAEtB,KAEHO,YAAW,WACT,EAAKC,SAAS,CACZT,kBAAmB,EAAKD,MAAMC,iBAC9BG,QAAS,OAEV,M,EAGLU,mBAAA,SAAmBD,GACbN,KAAKa,aAAeb,KAAKa,WAAWG,SAASV,EAAMW,SACjDjB,KAAKP,MAAMC,kBACbM,KAAKe,kB,EAKXG,OAAA,WAAU,IAAD,OACCC,EAAanB,KAAKR,MAAlB2B,SADD,EAE4DnB,KAAKP,MAAhEK,EAFD,EAECA,QAASJ,EAFV,EAEUA,iBAAkBC,EAF5B,EAE4BA,QAASC,EAFrC,EAEqCA,UAAWC,EAFhD,EAEgDA,QAEvD,OACE,kBAAC,IAAD,CAAQsB,SAAUA,GAChB,6BAASC,UAAS,QAAUtB,EAAV,KAAqBJ,EAAmB,qBAAuB,KAC/E,6BAAS2B,GAAG,WACV,kBAAC,IAAD,CACEP,cAAe,SAAAQ,GAAe,OAAI,EAAKR,cAAcQ,IACrD3B,QAASA,IAEX,kBAAC,IAAD,CACED,iBAAkBA,EAClBC,QAASA,EACTC,UAAWA,EACXC,QAASA,EACTkB,eAAgB,kBAAM,EAAKA,kBAC3BJ,cAAe,SAAAC,GAAG,OAAI,EAAKD,cAAcC,MAE3C,kBAAC,IAAD,CAAQjB,QAASA,KAEnB,6BAAS0B,GAAG,U,GApGEE,IAAMC,WA2GfjC","file":"component---src-pages-index-js-04af09f88eb0e3fc5d35.js","sourcesContent":["import React from 'react'\n\nimport { Header, Main, Footer, Layout } from '../components'\n\nclass IndexPage extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      isArticleVisible: false,\n      timeout: false,\n      isVisible: false,\n      article: '',\n      loading: 'is-loading'\n    }\n  }\n\n  componentDidMount() {\n    this.timeoutReference = setTimeout(() => {\n      this.setState({ loading: '' })\n    }, 100)\n    document.addEventListener('mousedown', event => {\n      this.handleOutsideClick(event)\n    })\n  }\n\n  componentWillUnmount() {\n    if (this.timeoutReference) {\n      clearTimeout(this.timeoutReference)\n    }\n    document.removeEventListener('mousedown', this.handleOutsideClick)\n  }\n\n  setWrapperRef(ref) {\n    this.wrapperRef = ref\n  }\n\n  onOpenArticle(article) {\n    this.setState({\n      isArticleVisible: !this.state.isArticleVisible,\n      article\n    })\n\n    setTimeout(() => {\n      this.setState({\n        timeout: !this.state.timeout\n      })\n    }, 325)\n\n    setTimeout(() => {\n      this.setState({\n        isVisible: !this.state.isVisible\n      })\n    }, 350)\n  }\n\n  onCloseArticle() {\n    this.setState({\n      isVisible: !this.state.isVisible\n    })\n\n    setTimeout(() => {\n      this.setState({\n        timeout: !this.state.timeout\n      })\n    }, 325)\n\n    setTimeout(() => {\n      this.setState({\n        isArticleVisible: !this.state.isArticleVisible,\n        article: ''\n      })\n    }, 350)\n  }\n\n  handleOutsideClick(event) {\n    if (this.wrapperRef && !this.wrapperRef.contains(event.target)) {\n      if (this.state.isArticleVisible) {\n        this.onCloseArticle()\n      }\n    }\n  }\n\n  render() {\n    const { location } = this.props\n    const { loading, isArticleVisible, timeout, isVisible, article } = this.state\n\n    return (\n      <Layout location={location}>\n        <article className={`body ${loading} ${isArticleVisible ? 'is-article-visible' : ''}`}>\n          <section id=\"wrapper\">\n            <Header\n              onOpenArticle={selectedArticle => this.onOpenArticle(selectedArticle)}\n              timeout={timeout}\n            />\n            <Main\n              isArticleVisible={isArticleVisible}\n              timeout={timeout}\n              isVisible={isVisible}\n              article={article}\n              onCloseArticle={() => this.onCloseArticle()}\n              setWrapperRef={ref => this.setWrapperRef(ref)}\n            />\n            <Footer timeout={timeout} />\n          </section>\n          <section id=\"bg\" />\n        </article>\n      </Layout>\n    )\n  }\n}\n\nexport default IndexPage\n"],"sourceRoot":""}